{% extends 'base.html' %}

{% block title %}Playing Story{% endblock %}

{% block content %}
<div class="card">
    <div style="margin-bottom: 2rem;">
        <p style="color: #666;">Story #{{ story_id }}</p>
    </div>
    
    <div style="font-size: 1.2rem; line-height: 1.8; margin-bottom: 2rem;">
        {{ page.text }}
    </div>
    
    {% if page.is_ending %}
        <div style="padding: 1rem; background: #d4edda; border-radius: 5px; margin-bottom: 2rem;">
            <h3>The End{% if page.ending_label %}: {{ page.ending_label }}{% endif %}</h3>
        </div>
        <a href="{% url 'story_list' %}" class="btn">Back to Stories</a>
        <a href="{% url 'play_story' story_id %}" class="btn btn-success">Play Again</a>
    {% else %}
        <h3>What will you do?</h3>
        <div style="display: flex; flex-direction: column; gap: 1rem; margin-top: 1rem;">
            {% for choice in page.choices %}
            <a href="{% url 'play_page' story_id choice.next_page_id %}" 
               class="btn" 
               style="text-align: left;">
                {{ choice.text }}
            </a>
            {% endfor %}
        </div>
    {% endif %}
</div>
{% endblock %}